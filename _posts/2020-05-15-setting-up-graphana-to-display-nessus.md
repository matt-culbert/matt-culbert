---
layout: post
title: Setting Up Grafana To Display Nessus Results And Jira Tasks
date: '2020-05-15T09:53:00.002-07:00'
author: Matt C
tags:
- graphana
- nessus
- jira
modified_time: '2021-09-29T10:46:57.503-07:00'
thumbnail: https://1.bp.blogspot.com/-o58D0qaUawc/Xr73-Ogx8BI/AAAAAAAAAVw/kVnnesE4lhoF1kLxr6pIdSI3Yo4Y90aYACPcBGAYYCw/s72-c/png%253Bbase645197b89af066f32c.png
blogger_id: tag:blogger.com,1999:blog-8951407132095927802.post-6587077080855644928
blogger_orig_url: https://cr.culbertreport.com/2020/05/setting-up-graphana-to-display-nessus.html
---

<div class="SCXW62147716 BCX2"><h3><span style="color: #cccccc;"><span style="font-family: inherit;">This is a run through on setting up Grafana to pull data from Nessus and tasks from Jira.</span></span></h3></div><div class="SCXW62147716 BCX2"><span style="color: #cccccc;"><span style="font-family: inherit;">Prerequisites:&nbsp;</span></span></div><ul><li><span style="color: #cccccc;"><span style="font-family: inherit;">Two VMs capable of 4 GB of RAM, 2 Cores, 32 GB Disk space each.</span></span></li><li><span style="color: #cccccc;"><span style="font-family: inherit;">Nessus Version: Nessus-8.10.0-es8.x86_64.rpm</span></span></li><li><span style="color: #cccccc;"><span style="font-family: inherit;">Installed with: rpm –ivh Nessus-8.10.0-es8.x86_64.rpm</span><span style="font-family: inherit;">&nbsp;</span></span></li><li><span style="color: #cccccc;"><span style="font-family: inherit;">OS: Fedora 31-1.9</span></span></li></ul><div class="SCXW62147716 BCX2"><span style="color: #cccccc;"><span style="font-family: inherit;"><br /></span></span></div><div dir="ltr" id="docs-internal-guid-a32d06ff-7fff-f8f1-4920-237466c1f2cd" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: #cccccc;"><b><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Setting up Grafana</span></b></span></div><ol><li><span style="color: #cccccc;"><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre;">&nbsp;&nbsp; </span><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre;">Add a new file to your YUM repo and populate it with the data below.&nbsp;&nbsp;&nbsp;</span></span></li><ul><li><span style="color: #cccccc;"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><span style="background-color: transparent; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">sudo nano /etc/yum.repos.d/grafana.repo</span></span></span></li></ul><ul><li><span style="color: #cccccc;"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><span style="background-color: transparent; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">[grafana]name=grafanabaseurl=https://packages.grafana.com/oss/rpmrepo_gpgcheck=1enabled=1gpgcheck=1gpgkey=https://packages.grafana.com/gpg.keysslverify=1sslcacert=/etc/pki/tls/certs/ca-bundle.crt</span></span></span></li></ul><li><span style="color: #cccccc;"><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre;">&nbsp;&nbsp;&nbsp; </span><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre;">Once that is done, we can install Grafana</span></span></li><ul><li><span style="color: #cccccc;"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><span style="background-color: transparent; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">sudo yum install grafana</span></span></span></li></ul><li><span style="color: #cccccc;"><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre;">&nbsp;&nbsp;&nbsp; </span><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre;">We will need to allow this through on the firewall, it uses port 3000</span></span></li><ul><li><span style="color: #cccccc;"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><span style="background-color: transparent; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Firewall-cmd -–add-port=3000/tcp --permanent</span></span></span></li><li><span style="color: #cccccc;"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><span style="background-color: transparent; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Firewall-cmd –reload</span></span></span></li></ul><li><span style="color: #cccccc;"><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre;">&nbsp;&nbsp;&nbsp; </span><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre;">Log into the Grafana dashboard at &lt;localhost&gt;:3000, the username and password is admin/admin</span></span></li></ol><div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: #cccccc;"><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre;">&nbsp;&nbsp;&nbsp;</span></span><br /><div dir="ltr" id="docs-internal-guid-471fc01b-7fff-8c3e-4d22-dbf38c70796f" style="line-height: 1.58932; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: #cccccc;"><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">    On first login, and after updating the admin password, we are presented with a view of tasks to be done. The first is to add a data source. Select MySQL and enter the host IP, database name, DB username/password, and be sure that the user only has the SELECT permission on the database. Name this after the first client, you will be working with. Save &amp; Test.</span></span></div><span style="color: #cccccc;"><br /></span><br /><div dir="ltr" style="line-height: 1.656; margin-bottom: 12pt; margin-top: 12pt;"><span style="color: #cccccc;"><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">&nbsp;&nbsp;&nbsp; </span><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">We will then set up a new dashboard. Mouse over the + and click Dashboard. You should now see a new view with a blank panel prompting you to add a query or choose a visualization. Click Add Query. You will be brought to a screen showing a MySQL query that we will modify. First, depending on the client that you are setting up, you want to select from the “query drop down” menu the correct client we are writing this for. If this dashboard is for Client 1, make sure the query is for Client 1. Modify the query to reflect the below image. We are telling MySQL to pull data from a table called "test" and select the column "number_of_vulns", and "time" which we'll use to chart a trend graph.</span></span></div></div><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-o58D0qaUawc/Xr73-Ogx8BI/AAAAAAAAAVw/kVnnesE4lhoF1kLxr6pIdSI3Yo4Y90aYACPcBGAYYCw/s1600/png%253Bbase645197b89af066f32c.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="322" data-original-width="585" height="352" src="https://1.bp.blogspot.com/-o58D0qaUawc/Xr73-Ogx8BI/AAAAAAAAAVw/kVnnesE4lhoF1kLxr6pIdSI3Yo4Y90aYACPcBGAYYCw/s640/png%253Bbase645197b89af066f32c.png" width="640" /></a></div><span style="color: #cccccc;"><br /></span><span id="goog_991474242"></span><span id="goog_991474243"></span><br /><div class="SCXW62147716 BCX2"><div dir="ltr" id="docs-internal-guid-ef05e7b2-7fff-692f-b39d-7aa481c49443" style="line-height: 1.58932; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: #cccccc;"><b><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Setting up SQL Clients</span></b></span></div><span style="color: #cccccc;"><br /></span><br /><div dir="ltr" style="line-height: 1.58932; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: #cccccc;"><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">&nbsp;&nbsp;&nbsp; </span><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">We need to setup a test client with a MySQL DB to emulate how our Nessus scanner will send results. &nbsp;</span></span></div><ol><li><span style="color: #cccccc;"><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"></span><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Edit the MySQL cnf file to add the line</span></span></li><ul><li><span style="color: #cccccc;"><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><span style="background-color: transparent; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">bind-address = IPofGrafana</span></span></span></li></ul><li><span style="color: #cccccc;"><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"></span><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Login as root to MySQL and create the database and user</span></span></li><ul><li><span style="color: #cccccc;"><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><span style="background-color: transparent; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">CREATE DATABASE nessus_scans CHARACTER SET utf8mb4 COLLATE utf8mb4_bin;</span></span></span></li><li><span style="color: #cccccc;"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><span style="background-color: transparent; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"></span><span style="background-color: transparent; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">CREATE USER 'client1_sql_connector'@'localhost' IDENTIFIED BY 'Str0ngDBP@ssw%rd';</span></span></span></li><li><span style="color: #cccccc;"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><span style="background-color: transparent; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"></span><span style="background-color: transparent; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">GRANT SELECT on nessus_scans.* TO 'client1_sql_connector'@'IPofGrafana' IDENTIFIED BY 'Str0ngDBP@ssw%rd';</span></span></span></li><li><span style="color: #cccccc;"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><span style="background-color: transparent; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"></span><span style="background-color: transparent; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">FLUSH PRIVILEGES;</span></span></span></li><li><span style="color: #cccccc;"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><span style="background-color: transparent; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"></span><span style="background-color: transparent; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">QUIT;</span></span></span></li></ul><li><span style="color: #cccccc;"><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"></span><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Create the table for Nessus results&nbsp;&nbsp;</span></span></li><ul><li><span style="color: #cccccc;"><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><span style="background-color: transparent; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">CREATE TABLE test( id int NOT NULL auto_increment, time datetime NOT NULL DEFAULT CURRENT_TIMESTAMP, number_of_vulns INT NOT NULL, PRIMARY KEY (ID) );</span></span></span></li></ul><li><span style="color: #cccccc;"><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"></span><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">The insert statement I used to test this:</span></span></li><ul><li><span style="color: #cccccc;"><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><span style="background-color: transparent; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">INSERT INTO test (number_of_vulns) VALUES (50);</span></span></span></li><ul><li><span style="color: #cccccc;"><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Id and Date are auto calculated, we only need to fill in the number of vulnerabilities detected for our test.</span></span></li></ul></ul></ol><span style="color: #cccccc;"><br /></span><br /><div dir="ltr" style="line-height: 1.58932; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: #cccccc;"><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">&nbsp;&nbsp;&nbsp; </span><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Create additional databases and tables for each piece of software being used. Pictured below are the Grafana customization's for each panel and the table layout.</span></span></div><span style="color: #cccccc;"><br /></span></div><div class="OutlineElement Ltr SCXW62147716 BCX2" style="direction: ltr;"><div class="Paragraph SCXW62147716 BCX2" style="background-color: transparent; color: windowtext; font-style: normal; font-weight: normal; margin-left: 0px; margin-right: 0px; padding-left: 0px; padding-right: 0px; text-align: left; text-indent: 0px; vertical-align: baseline;"><span style="color: #cccccc;"><br /></span><br /><div dir="ltr" id="docs-internal-guid-e2d5fa66-7fff-dcb7-61ed-8a45f4babd14" style="line-height: 1.58932; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: #cccccc;"><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">A note about Nessus. As many will point out, Nessus no longer allows base installations to utilize API functionality. You need to have Tennable IO or Tennable SC to be able to utilize the API at all. In a later post, I will go over how you can setup a query to pull the necessary fields we use here and display them on Grafana, but for now this can be populated with test data. When we do get the API setup, we will be pulling down the total number of vulnerabilities detected in that scan so that we can make a trend graph and show rises and falls over time. Below, you will find screenshots of how both this Jira and Nessus Panels are setup, to give you a better idea of what the queries look like.</span></span></div><span style="color: #cccccc;"><br /></span><br /><h2 dir="ltr" id="docs-internal-guid-94977610-7fff-d191-2258-924fdff51602" style="line-height: 1.58932; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: #cccccc; font-size: large;"><span style="background-color: transparent; font-family: &quot;arial&quot;; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Jira Tasks Panel</span></span></h2><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-lQdFhRrUyIs/Xr74AKHGjXI/AAAAAAAAAWY/wkoCwrmZ7vwKC0djFhu-5gorYWCWhIMnQCPcBGAYYCw/s1600/png%253Bbase647da41f55510a4217.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="360" data-original-width="651" height="352" src="https://1.bp.blogspot.com/-lQdFhRrUyIs/Xr74AKHGjXI/AAAAAAAAAWY/wkoCwrmZ7vwKC0djFhu-5gorYWCWhIMnQCPcBGAYYCw/s640/png%253Bbase647da41f55510a4217.png" width="640" /></a></div><h2 dir="ltr" id="docs-internal-guid-94977610-7fff-d191-2258-924fdff51602" style="line-height: 1.58932; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: #cccccc; font-size: large;"><span style="background-color: transparent; font-family: &quot;arial&quot;; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-bkuuaLs-ZDM/Xr74z8PG3-I/AAAAAAAAAWo/-ZHoxM8d198_om9YDPXTpRw4ShM1-oGUQCLcBGAsYHQ/s1600/png%253Bbase64f434912acc8da86c.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="608" data-original-width="1024" height="380" src="https://1.bp.blogspot.com/-bkuuaLs-ZDM/Xr74z8PG3-I/AAAAAAAAAWo/-ZHoxM8d198_om9YDPXTpRw4ShM1-oGUQCLcBGAsYHQ/s640/png%253Bbase64f434912acc8da86c.png" width="640" /></a></div><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-F2y11yxiqrc/Xr740hWz_ZI/AAAAAAAAAWs/rWh3zYujFeknUlYIDys8ynsMd-b5rSsvACLcBGAsYHQ/s1600/png%253Bbase647a728a899d2a17dc.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="165" data-original-width="608" height="172" src="https://1.bp.blogspot.com/-F2y11yxiqrc/Xr740hWz_ZI/AAAAAAAAAWs/rWh3zYujFeknUlYIDys8ynsMd-b5rSsvACLcBGAsYHQ/s640/png%253Bbase647a728a899d2a17dc.png" width="640" /></a></div></span></span></h2></div><div class="Paragraph SCXW62147716 BCX2" style="background-color: transparent; color: windowtext; font-style: normal; font-weight: normal; margin-left: 0px; margin-right: 0px; padding-left: 0px; padding-right: 0px; text-align: left; text-indent: 0px; vertical-align: baseline;"><h2 dir="ltr" id="docs-internal-guid-94977610-7fff-d191-2258-924fdff51602" style="line-height: 1.58932; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: #cccccc;">Nessus Vulnerabilities Panel</span></h2><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-o58D0qaUawc/Xr73-Ogx8BI/AAAAAAAAAWg/KV4ljqPOjK8ouruJ_j_HGeSww3pMW1cDACPcBGAYYCw/s1600/png%253Bbase645197b89af066f32c.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="322" data-original-width="585" height="352" src="https://1.bp.blogspot.com/-o58D0qaUawc/Xr73-Ogx8BI/AAAAAAAAAWg/KV4ljqPOjK8ouruJ_j_HGeSww3pMW1cDACPcBGAYYCw/s640/png%253Bbase645197b89af066f32c.png" width="640" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-IQE2DRlL3_k/Xr73_oz5Z9I/AAAAAAAAAWU/TNupr7a7-xsrz91RCXl46OgucQHZ7Z9dACPcBGAYYCw/s1600/png%253Bbase642ed5b6622a89be1.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="146" data-original-width="650" height="142" src="https://1.bp.blogspot.com/-IQE2DRlL3_k/Xr73_oz5Z9I/AAAAAAAAAWU/TNupr7a7-xsrz91RCXl46OgucQHZ7Z9dACPcBGAYYCw/s640/png%253Bbase642ed5b6622a89be1.png" width="640" /></a></div><h2 dir="ltr" id="docs-internal-guid-94977610-7fff-d191-2258-924fdff51602" style="line-height: 1.58932; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: #cccccc;">&nbsp;</span></h2><h2 dir="ltr" id="docs-internal-guid-94977610-7fff-d191-2258-924fdff51602" style="line-height: 1.58932; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: #cccccc;">Connecting Jira DB to Graphana </span></h2><span style="color: #cccccc;">I think this needs a section all of it's own. I didn't go through the Jira API in order to pull who was working what tasks and instead wrote some SQL queries and generated a special user to query the Jira DB. At the time of writing this, it was a lot quicker to do and because the user was only granted select, I wasn't too worried about the security of this. If I could go back and spend more time on this, I would definitely work with the API to pull the needed information into a seperate SQL DB then import it from there. I actually recommend doing it this way because it will allow you to correlate the usernames of assignees on tickets with their internal Jira ID better. As it stands right now, when this displays ticket statuses, the assignee column will say JIRAUSER10000 instead of my username. The usernames are stored in another table, app_user. Without further ado, here is how Jira lays out the MySQL DB and how you can pull from it.</span><br /><span style="color: #cccccc;"><br /></span><span style="color: #cccccc;">The table we will be referencing is called jiraissue. It holds the issue summary, type, creator, assignee, and a whole host of other descriptors.</span><br /><span style="color: #cccccc;">Jira.jiraissue layout:<span face="&quot;calibri&quot; , sans-serif" id="docs-internal-guid-d035b2f0-7fff-6154-cf02-85ce0924089d" style="background-color: transparent; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">&nbsp;</span></span><br /><span style="color: #cccccc;"><span face="&quot;calibri&quot; , sans-serif" id="docs-internal-guid-d035b2f0-7fff-6154-cf02-85ce0924089d" style="background-color: transparent; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"></span></span><br /><div class="separator" style="clear: both; text-align: center;"></div><br /><div class="separator" style="clear: both; text-align: center;"><span style="color: #cccccc;"><span face="&quot;calibri&quot; , sans-serif" id="docs-internal-guid-d035b2f0-7fff-6154-cf02-85ce0924089d" style="background-color: transparent; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><a href="https://1.bp.blogspot.com/-kEmRQL2thYk/Xr75UBzin8I/AAAAAAAAAXI/HFFi1o0bArkcxyuHpqwQXl08P6oClvK3wCLcBGAsYHQ/s1600/png%253Bbase64f39636e549d39191.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="556" data-original-width="573" height="620" src="https://1.bp.blogspot.com/-kEmRQL2thYk/Xr75UBzin8I/AAAAAAAAAXI/HFFi1o0bArkcxyuHpqwQXl08P6oClvK3wCLcBGAsYHQ/s640/png%253Bbase64f39636e549d39191.png" width="640" /></a></span></span></div><br /><span style="color: #cccccc;"><span face="&quot;calibri&quot; , sans-serif" id="docs-internal-guid-d035b2f0-7fff-6154-cf02-85ce0924089d" style="background-color: transparent; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">We will be using the "created", "assignee", and "summary" fields. Create a new user like the one below:</span>&nbsp;</span><br /><br /><div class="separator" style="clear: both; text-align: center;"><span style="color: #cccccc;"><a href="https://1.bp.blogspot.com/-Jlj8t6qAzwQ/Xr75TpjKwhI/AAAAAAAAAXE/SclEZFP5rf4rzYe5H5L_6vc2uEcSuoNvwCPcBGAYYCw/s1600/png%253Bbase64e69a52975bb711c9.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="85" data-original-width="319" height="170" src="https://1.bp.blogspot.com/-Jlj8t6qAzwQ/Xr75TpjKwhI/AAAAAAAAAXE/SclEZFP5rf4rzYe5H5L_6vc2uEcSuoNvwCPcBGAYYCw/s640/png%253Bbase64e69a52975bb711c9.png" width="640" /></a></span></div><br /><br /><span style="color: #cccccc;">We then grant select to our new user for this table:</span><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-xJFR09cuCSE/Xr75mnZsa5I/AAAAAAAAAXY/NwvE0W_9kiAHl_3pUBwxjOiaMmP9AJ1BwCLcBGAsYHQ/s1600/png%253Bbase64fbb3c259eb8a8137.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="32" data-original-width="852" height="24" src="https://1.bp.blogspot.com/-xJFR09cuCSE/Xr75mnZsa5I/AAAAAAAAAXY/NwvE0W_9kiAHl_3pUBwxjOiaMmP9AJ1BwCLcBGAsYHQ/s640/png%253Bbase64fbb3c259eb8a8137.png" width="640" /></a></div><span style="color: #cccccc;">&nbsp;</span> <br /><span style="color: #cccccc;"><span face="&quot;calibri&quot; , sans-serif" id="docs-internal-guid-f3f910f0-7fff-ce40-4dfd-0275ebafcb53" style="background-color: transparent; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">It’s important as well to open 3306 on the firewall to allow Grafana to make SQL calls:</span><span face="&quot;calibri&quot; , sans-serif" style="background-color: transparent; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">&nbsp;</span></span><br /><br /><div class="separator" style="clear: both; text-align: center;"><span style="color: #cccccc;"><span face="&quot;calibri&quot; , sans-serif" style="background-color: transparent; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><a href="https://1.bp.blogspot.com/-2fdB31nURLw/Xr75Tuq-dcI/AAAAAAAAAXM/o4YNjqm_QIcAGK433GxfjJ2X07BeYjOLACPcBGAYYCw/s1600/png%253Bbase64dc0a44e89655d9a1.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="66" data-original-width="534" height="78" src="https://1.bp.blogspot.com/-2fdB31nURLw/Xr75Tuq-dcI/AAAAAAAAAXM/o4YNjqm_QIcAGK433GxfjJ2X07BeYjOLACPcBGAYYCw/s640/png%253Bbase64dc0a44e89655d9a1.png" width="640" /></a></span></span></div><br /><br /><span style="color: #cccccc;"><span face="&quot;calibri&quot; , sans-serif" style="background-color: transparent; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">And finally the Grafana board properties:</span></span><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-9Qfe58KYtOU/Xr75ToEaxTI/AAAAAAAAAXQ/9OqS6DZI0QY0GSSeXD2hmPE1fyJxiwsFQCPcBGAYYCw/s1600/png%253Bbase64bd05c63d8d07dbad.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="341" data-original-width="726" height="300" src="https://1.bp.blogspot.com/-9Qfe58KYtOU/Xr75ToEaxTI/AAAAAAAAAXQ/9OqS6DZI0QY0GSSeXD2hmPE1fyJxiwsFQCPcBGAYYCw/s640/png%253Bbase64bd05c63d8d07dbad.png" width="640" /></a></div><br /><h3 dir="ltr" id="docs-internal-guid-94977610-7fff-d191-2258-924fdff51602" style="line-height: 1.58932; margin-bottom: 0pt; margin-top: 0pt;"><span style="color: #cccccc;"><span style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><span id="docs-internal-guid-b4730d6c-7fff-ef4c-e4a0-7628d544a354" style="background-color: transparent; font-family: &quot;arial&quot;; font-size: 11pt; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"></span></span></span></h3></div></div>