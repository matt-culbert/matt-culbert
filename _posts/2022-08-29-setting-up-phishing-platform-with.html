---
layout: post
title: Setting Up A Phishing Platform With GoPhish
date: '2022-08-29T11:56:00.004-07:00'
author: Matt C
tags: 
modified_time: '2022-08-29T11:56:52.867-07:00'
thumbnail: https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgO8jYXu6QSBCBcAwR_klIbtjeVuT3rESaq0wdBe4vl-KmPYgp7ldZvvEIyQZxjlY3EWP_RRC6uTFhMZ6zgyK6MumCoOkA5MlAjG0kH5K8e3U01e5LOwSgmqhcSCRXVmsxDBjmgwNU1O8anZVW_Oa7HqZltP1ZnFt1x_d8oRZttNOHPYJsnM2sfrREE6g/s72-w265-c-h265/GoPhish.png
blogger_id: tag:blogger.com,1999:blog-8951407132095927802.post-6353838825733858592
blogger_orig_url: https://cr.culbertreport.com/2022/08/setting-up-phishing-platform-with.html
---

<p><span>&nbsp;&nbsp; &nbsp;</span></p><div class="separator" style="clear: both; text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgO8jYXu6QSBCBcAwR_klIbtjeVuT3rESaq0wdBe4vl-KmPYgp7ldZvvEIyQZxjlY3EWP_RRC6uTFhMZ6zgyK6MumCoOkA5MlAjG0kH5K8e3U01e5LOwSgmqhcSCRXVmsxDBjmgwNU1O8anZVW_Oa7HqZltP1ZnFt1x_d8oRZttNOHPYJsnM2sfrREE6g/s200/GoPhish.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="200" data-original-width="200" height="265" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgO8jYXu6QSBCBcAwR_klIbtjeVuT3rESaq0wdBe4vl-KmPYgp7ldZvvEIyQZxjlY3EWP_RRC6uTFhMZ6zgyK6MumCoOkA5MlAjG0kH5K8e3U01e5LOwSgmqhcSCRXVmsxDBjmgwNU1O8anZVW_Oa7HqZltP1ZnFt1x_d8oRZttNOHPYJsnM2sfrREE6g/w265-h265/GoPhish.png" width="265" /></a></div><p></p><h2 style="text-align: left;">What is GoPhish?</h2><p><span>&nbsp;&nbsp; &nbsp;</span>GoPhish is a great platform for launching phishing campaigns on a budget. By simply installing it along with Postfix on a Digitalocean droplet, we can launch phishing campaigns customized to our own needs from the cloud for only a few dollars a month. Compare this to other options like what Microsoft offers, and this all of a sudden becomes a very appealing platform. There's a lot of discussion out across the internet though on the different pro's and cons to utilizing GoPhish. Some teams dislike it because it adds a header on every email identifying itself as GoPhish, some dislike it because it doesn't have robust default options like you would get with a paid solution, and some dislike it because it can be seen as a hacky approach to trying to solve the issue of how to phish users. Coming from more well known pre-configured platforms, I like it for the ability to customize campaigns to what different teams and users are facing company to company. Sure, Microsoft can launch a campaign in five different languages, but rarely do their options represent what I see in the real world.</p><p>With all this said, let's begin setting up GoPhish!</p><h2 style="text-align: left;">Setup <br /></h2><p><span>&nbsp;&nbsp;&nbsp; </span>First up is installing Postfix. Postfix is what we will use for sending the actual emails. It's a lightweight opensource platform that pairs very easily with GoPhish. Setup is simple, just run <span style="font-family: courier;">apt-get install postfix.</span> Once Postfix is installed, we want to ensure the mynetworks variable is set to our local home IP.&nbsp;</p><p></p><div class="separator" style="clear: both; text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgN5ZCGpkttaDupr2S_YXAQtgNWUq9mnMF4G3GK3IWP1km1COknptickmcyxbnEsroSVEkBzrXY3nbx04WB3YWx1FTHZnLsDBwHdcUtxfJ6IWVfvwOE9y57om7bAFibfvLr6MixltvUwlTpx4VwWLQplpfP8PB84UlFX96-YT7rtHgcnX-mJns8gDaqag/s1036/postfix-conf.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="820" data-original-width="1036" height="424" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgN5ZCGpkttaDupr2S_YXAQtgNWUq9mnMF4G3GK3IWP1km1COknptickmcyxbnEsroSVEkBzrXY3nbx04WB3YWx1FTHZnLsDBwHdcUtxfJ6IWVfvwOE9y57om7bAFibfvLr6MixltvUwlTpx4VwWLQplpfP8PB84UlFX96-YT7rtHgcnX-mJns8gDaqag/w536-h424/postfix-conf.png" width="536" /></a></div><span></span><p></p><p><span>&nbsp;&nbsp;&nbsp; </span>The next step, if you want to receive emails, will be to setup an A record and an MX record. To do so, go to Digitalocean, select the project that this resides under, and then select Networking. From there, go to domains and add a new one. Once this is all set, we can begin setting up the DNS records. We will need an A record that points to our VPS IP and an MX record that points to our domain name.&nbsp;</p><p></p><div class="separator" style="clear: both; text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEij-7XVkGQ2G3ED56fMhgDzR4k2Xk3r-NsMt6ZE13yRfEwVweWkH-alV3v_TaXN23WdX4GpHuF4E6lLQ92Z6EuPoKH5_ritzHhkwZ7tBM0VrjudXxe9Yw7aEqrz5eSvU4_vOuDIQWXoAfpvdO2J0DRGnGwrZiMcet6TWTF4pnXS727McaaNb_DTvB2WmA/s1184/digitalocean-a-record.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="212" data-original-width="1184" height="95" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEij-7XVkGQ2G3ED56fMhgDzR4k2Xk3r-NsMt6ZE13yRfEwVweWkH-alV3v_TaXN23WdX4GpHuF4E6lLQ92Z6EuPoKH5_ritzHhkwZ7tBM0VrjudXxe9Yw7aEqrz5eSvU4_vOuDIQWXoAfpvdO2J0DRGnGwrZiMcet6TWTF4pnXS727McaaNb_DTvB2WmA/w533-h95/digitalocean-a-record.png" width="533" /></a></div><p><br /><span>&nbsp;&nbsp;&nbsp; </span>This step is optional though as a lot of phishing campaigns focus on emulating automated emails like password resets or billing invoice documents, so being able to receive emails is less important.</p><p><span>&nbsp;&nbsp;&nbsp; </span>Now that Postfix is installed and setup, we can install GoPhish. As of writing this, .12 is the most up to date version. Download it with <span style="font-family: courier;"><span class="r-3hw5f6" data-highlighting="class-name" data-offset-key="39cbd201d8bd40debc09e46ed26c9da3:0" data-slate-leaf="true">wget</span><span data-offset-key="39cbd201d8bd40debc09e46ed26c9da3:1"> https://github.com/gophish/gophish/releases/download/v0.12.0/gophish-v0.12.0-linux-64bit.zip</span></span><span data-offset-key="39cbd201d8bd40debc09e46ed26c9da3:28" data-slate-fragment="JTdCJTIyb2JqZWN0JTIyJTNBJTIyZG9jdW1lbnQlMjIlMkMlMjJkYXRhJTIyJTNBJTdCJTdEJTJDJTIybm9kZXMlMjIlM0ElNUIlN0IlMjJvYmplY3QlMjIlM0ElMjJibG9jayUyMiUyQyUyMnR5cGUlMjIlM0ElMjJjb2RlLWxpbmUlMjIlMkMlMjJpc1ZvaWQlMjIlM0FmYWxzZSUyQyUyMmRhdGElMjIlM0ElN0IlN0QlMkMlMjJub2RlcyUyMiUzQSU1QiU3QiUyMm9iamVjdCUyMiUzQSUyMnRleHQlMjIlMkMlMjJsZWF2ZXMlMjIlM0ElNUIlN0IlMjJvYmplY3QlMjIlM0ElMjJsZWFmJTIyJTJDJTIydGV4dCUyMiUzQSUyMndnZXQlMjBodHRwcyUzQSUyRiUyRmdpdGh1Yi5jb20lMkZnb3BoaXNoJTJGZ29waGlzaCUyRnJlbGVhc2VzJTJGZG93bmxvYWQlMkYwLjcuMSUyRmdvcGhpc2gtdjAuNy4xLWxpbnV4LTY0Yml0LnppcCUyMiUyQyUyMm1hcmtzJTIyJTNBJTVCJTVEJTJDJTIyc2VsZWN0aW9ucyUyMiUzQSU1QiU1RCU3RCU1RCUyQyUyMmtleSUyMiUzQSUyMjExYzBiZjU5NTE0OTQ1NTU4N2MyZDFjY2U2MWIwOGE5JTIyJTdEJTVEJTJDJTIya2V5JTIyJTNBJTIyZGZhMDEyZjFiNTJhNDRkZjk3ZDNiZTU4ZmQ2YmFiNzElMjIlN0QlNUQlMkMlMjJrZXklMjIlM0ElMjJmMGNhMjlhNjM5MjI0NTQ4OGE5NjZkODg3ZWFhOWJmOCUyMiU3RA=="> and then</span><span data-key="f83751a1154d4e62a76f9b6e51c082cb"><span data-offset-key="f83751a1154d4e62a76f9b6e51c082cb:0"> <span style="font-family: courier;">unzip gophish</span></span><span style="font-family: courier;"><span class="r-d822y2" data-highlighting="operator" data-offset-key="f83751a1154d4e62a76f9b6e51c082cb:1" data-slate-leaf="true">-</span><span data-offset-key="f83751a1154d4e62a76f9b6e51c082cb:2">v0</span><span data-highlighting="punctuation" data-offset-key="f83751a1154d4e62a76f9b6e51c082cb:3" data-slate-leaf="true">.</span><span class="r-d822y2" data-highlighting="number" data-offset-key="f83751a1154d4e62a76f9b6e51c082cb:4" data-slate-leaf="true">7.1</span><span class="r-d822y2" data-highlighting="operator" data-offset-key="f83751a1154d4e62a76f9b6e51c082cb:5" data-slate-leaf="true">-</span><span data-offset-key="f83751a1154d4e62a76f9b6e51c082cb:6">linux</span><span class="r-d822y2" data-highlighting="operator" data-offset-key="f83751a1154d4e62a76f9b6e51c082cb:7" data-slate-leaf="true">-</span><span data-offset-key="f83751a1154d4e62a76f9b6e51c082cb:8">64bit</span><span data-highlighting="punctuation" data-offset-key="f83751a1154d4e62a76f9b6e51c082cb:9" data-slate-leaf="true">.</span><span data-offset-key="f83751a1154d4e62a76f9b6e51c082cb:10">zip &amp;&amp; </span></span></span><span style="font-family: courier;"><span data-offset-key="6d6b68f63bd64fa193080da9a92c39c5:0">chmod </span><span class="r-d822y2" data-highlighting="operator" data-offset-key="6d6b68f63bd64fa193080da9a92c39c5:1" data-slate-leaf="true">+</span><span data-offset-key="6d6b68f63bd64fa193080da9a92c39c5:2" data-slate-fragment="JTdCJTIyb2JqZWN0JTIyJTNBJTIyZG9jdW1lbnQlMjIlMkMlMjJkYXRhJTIyJTNBJTdCJTdEJTJDJTIybm9kZXMlMjIlM0ElNUIlN0IlMjJvYmplY3QlMjIlM0ElMjJibG9jayUyMiUyQyUyMnR5cGUlMjIlM0ElMjJjb2RlLWxpbmUlMjIlMkMlMjJpc1ZvaWQlMjIlM0FmYWxzZSUyQyUyMmRhdGElMjIlM0ElN0IlN0QlMkMlMjJub2RlcyUyMiUzQSU1QiU3QiUyMm9iamVjdCUyMiUzQSUyMnRleHQlMjIlMkMlMjJsZWF2ZXMlMjIlM0ElNUIlN0IlMjJvYmplY3QlMjIlM0ElMjJsZWFmJTIyJTJDJTIydGV4dCUyMiUzQSUyMmNobW9kJTIwJTJCeCUyMGdvcGhpc2glMjIlMkMlMjJtYXJrcyUyMiUzQSU1QiU1RCUyQyUyMnNlbGVjdGlvbnMlMjIlM0ElNUIlNUQlN0QlNUQlMkMlMjJrZXklMjIlM0ElMjIyODU5N2QwMjQ3YTA0ZmM4ODM3NDBhNGNmYjUzYWZmMyUyMiU3RCU1RCUyQyUyMmtleSUyMiUzQSUyMmY5Mjg4NWZlMzk5MTQyZjg5MWM0ZTgzNGUyYWVkM2EyJTIyJTdEJTVEJTJDJTIya2V5JTIyJTNBJTIyYjFiODljYjM2YjRhNGIyNWI2NmU0MTNiZmU5OGZjY2YlMjIlN0Q=">x gophish</span></span><span data-key="f83751a1154d4e62a76f9b6e51c082cb"><span data-offset-key="f83751a1154d4e62a76f9b6e51c082cb:0">. Now that GoPhish is installed and executable, start it with <span style="font-family: courier;">./gophish</span></span></span></p><p><span data-key="f83751a1154d4e62a76f9b6e51c082cb"><span data-offset-key="f83751a1154d4e62a76f9b6e51c082cb:0"><span>&nbsp;&nbsp;&nbsp; </span>Since the admin panel listens on localhost:3333 by default, and I don't want to open this interface up to the internet, let's create an SSH tunnel with&nbsp; <span style="font-family: courier;">sudo ssh -i &lt;cert&gt; root@&lt;ip&gt; -L3333:localhost:3333 -N -f</span>&nbsp; where <span style="font-family: courier;">&lt;IP&gt;</span> is your Digitalocean VPS IP and <span style="font-family: courier;">&lt;cert&gt;</span> is the certificate you're using for user authentication. Log in and start poking around! There's a lot that we can do here and launching custom phishing campaigns that fit our needs is fairly simple.&nbsp;</span></span></p><h2 style="text-align: left;"><span data-key="f83751a1154d4e62a76f9b6e51c082cb"><span data-offset-key="f83751a1154d4e62a76f9b6e51c082cb:0">Starting your first campaign</span></span><span data-key="f83751a1154d4e62a76f9b6e51c082cb"><span data-offset-key="f83751a1154d4e62a76f9b6e51c082cb:0"> <br /></span></span></h2><p><span data-key="f83751a1154d4e62a76f9b6e51c082cb"><span data-offset-key="f83751a1154d4e62a76f9b6e51c082cb:0"><span>&nbsp;&nbsp; &nbsp;</span>I will provide a simple campaign to test users executing macros on documents that can be expanded to do a lot more if you want. Below is the example macro that will reach out to requestbin with the current username showing who has executed the document.<br /></span></span></p><p><span data-key="f83751a1154d4e62a76f9b6e51c082cb"><span data-offset-key="f83751a1154d4e62a76f9b6e51c082cb:0"></span></span></p><div class="separator" style="clear: both; text-align: center;"><span data-key="f83751a1154d4e62a76f9b6e51c082cb"><span data-offset-key="f83751a1154d4e62a76f9b6e51c082cb:0"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiAupOtFkn2bMEGV_or9Bzs-CWaWyCGSi4ZUZdiWE7QZd0n8j1t72rsZn8Pmo6hJnF84FBzgJXBA1Lbu3N1crURZNJxSviAINn1CLv35pETQgxOqkjin0-QiS0EOAfa1jtvgbswsR14FJLrz_3YkS7dTywVGAHgjyAxR3jajCVuzle7Y990lk8phii0gQ/s692/get-uname-macro.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="271" data-original-width="692" height="199" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiAupOtFkn2bMEGV_or9Bzs-CWaWyCGSi4ZUZdiWE7QZd0n8j1t72rsZn8Pmo6hJnF84FBzgJXBA1Lbu3N1crURZNJxSviAINn1CLv35pETQgxOqkjin0-QiS0EOAfa1jtvgbswsR14FJLrz_3YkS7dTywVGAHgjyAxR3jajCVuzle7Y990lk8phii0gQ/w509-h199/get-uname-macro.png" width="509" /></a></span></span></div><span data-key="f83751a1154d4e62a76f9b6e51c082cb"><span data-offset-key="f83751a1154d4e62a76f9b6e51c082cb:0"><br /><span>&nbsp;&nbsp;&nbsp; Setting up the campaign in GoPhish's dashboard is very quick. We first need to create a sender profile that we will use to send the document with.</span></span></span><p></p><p><span data-key="f83751a1154d4e62a76f9b6e51c082cb"><span data-offset-key="f83751a1154d4e62a76f9b6e51c082cb:0"><span></span></span></span></p><div class="separator" style="clear: both; text-align: center;"><span data-key="f83751a1154d4e62a76f9b6e51c082cb"><span data-offset-key="f83751a1154d4e62a76f9b6e51c082cb:0"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiqDpSoGC3oRc97rSioj4eTy-PLs7vIWO6duWYP_j59f-VRxXQBuIVTwUdsOuKdPgCMWzy334iJQO14bAtlRpFRox9ETQkDy5ugt8a9qEidhTTrjFAj5kd-YXOnvEKzbT8MEy0nXR3nydoHQYfsw8dNnNaGexg2RTyqLquwN3KzatmiVqFlPArQgi8ncA/s962/gophish-sending-profile.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="962" data-original-width="691" height="502" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiqDpSoGC3oRc97rSioj4eTy-PLs7vIWO6duWYP_j59f-VRxXQBuIVTwUdsOuKdPgCMWzy334iJQO14bAtlRpFRox9ETQkDy5ugt8a9qEidhTTrjFAj5kd-YXOnvEKzbT8MEy0nXR3nydoHQYfsw8dNnNaGexg2RTyqLquwN3KzatmiVqFlPArQgi8ncA/w361-h502/gophish-sending-profile.png" width="361" /></a></span></span></div><p></p><p><span data-key="f83751a1154d4e62a76f9b6e51c082cb"><span data-offset-key="f83751a1154d4e62a76f9b6e51c082cb:0"><span><span>&nbsp;&nbsp;&nbsp; What you want to call the profile goes into the name field. The "From:" field is where you make your fake sending persona. The "Host:" will be the IP of your Postfix server if it's not hosted locally. The Username/Password can be left blank unless you have authentication for your SMTP service turned on. And finally in the "Email Headers:" field, we can add custom data to help identify us to spam filters and allow test campaigns through.<br /></span></span></span></span></p><p><span data-key="f83751a1154d4e62a76f9b6e51c082cb"><span data-offset-key="f83751a1154d4e62a76f9b6e51c082cb:0"><span><span>&nbsp;&nbsp; &nbsp;</span>Then, we need to set up an email template. This is where we will include the document we made above as an attachment along with a convincing message to tell users to open the document and enable the macro to run.&nbsp;&nbsp;</span></span></span></p><p><span data-key="f83751a1154d4e62a76f9b6e51c082cb"><span data-offset-key="f83751a1154d4e62a76f9b6e51c082cb:0"><span></span></span></span></p><div class="separator" style="clear: both; text-align: center;"><span data-key="f83751a1154d4e62a76f9b6e51c082cb"><span data-offset-key="f83751a1154d4e62a76f9b6e51c082cb:0"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjeFtRzKXokoD4la2dpkGsBbnhivlo1VqKynnOHLvO7BH9uoRwFtx3qWJQ7r1NTZXtsaVzw70YAmLoerGxhDIfHG3rZ3cISdpJsZvlu0hwnmdNhDJ4gMNvjsP5HNh7g9kVX-gFxeo4184zNWaoeTYLrbb7Pf7CWuWSwTHnn7hpAFwa4rDbCZmXkAeb8Vg/s961/gophish-email-template.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="961" data-original-width="693" height="531" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjeFtRzKXokoD4la2dpkGsBbnhivlo1VqKynnOHLvO7BH9uoRwFtx3qWJQ7r1NTZXtsaVzw70YAmLoerGxhDIfHG3rZ3cISdpJsZvlu0hwnmdNhDJ4gMNvjsP5HNh7g9kVX-gFxeo4184zNWaoeTYLrbb7Pf7CWuWSwTHnn7hpAFwa4rDbCZmXkAeb8Vg/w383-h531/gophish-email-template.png" width="383" /></a></span></span></div><span data-key="f83751a1154d4e62a76f9b6e51c082cb"><span data-offset-key="f83751a1154d4e62a76f9b6e51c082cb:0"><br /><span>&nbsp;&nbsp;&nbsp; </span>There's a nifty trick for creating templates where you can import a saved email that you want to emulate or that you often see users receive. Otherwise, fill in the subject and body with what you think will test your users well and attach the file. Something important to remember, do not make phishing campaigns too good. Emulating common services that your teams use can have the opposite affect from what was intended and cause them to be overly suspicious now of legitimate day to day emails. There are things that should be off limits too like pretending to be the executive team and offering COVID bonuses for people struggling. Yeah, you will probably get someone desperate enough to click and execute, yeah the criminals are not above doing this. But you won't develop a good relationship with the rest of the company and users will grow to resent the security team if that's how you go about testing.<br /></span></span><p></p><p><span data-offset-key="39cbd201d8bd40debc09e46ed26c9da3:28" data-slate-fragment="JTdCJTIyb2JqZWN0JTIyJTNBJTIyZG9jdW1lbnQlMjIlMkMlMjJkYXRhJTIyJTNBJTdCJTdEJTJDJTIybm9kZXMlMjIlM0ElNUIlN0IlMjJvYmplY3QlMjIlM0ElMjJibG9jayUyMiUyQyUyMnR5cGUlMjIlM0ElMjJjb2RlLWxpbmUlMjIlMkMlMjJpc1ZvaWQlMjIlM0FmYWxzZSUyQyUyMmRhdGElMjIlM0ElN0IlN0QlMkMlMjJub2RlcyUyMiUzQSU1QiU3QiUyMm9iamVjdCUyMiUzQSUyMnRleHQlMjIlMkMlMjJsZWF2ZXMlMjIlM0ElNUIlN0IlMjJvYmplY3QlMjIlM0ElMjJsZWFmJTIyJTJDJTIydGV4dCUyMiUzQSUyMndnZXQlMjBodHRwcyUzQSUyRiUyRmdpdGh1Yi5jb20lMkZnb3BoaXNoJTJGZ29waGlzaCUyRnJlbGVhc2VzJTJGZG93bmxvYWQlMkYwLjcuMSUyRmdvcGhpc2gtdjAuNy4xLWxpbnV4LTY0Yml0LnppcCUyMiUyQyUyMm1hcmtzJTIyJTNBJTVCJTVEJTJDJTIyc2VsZWN0aW9ucyUyMiUzQSU1QiU1RCU3RCU1RCUyQyUyMmtleSUyMiUzQSUyMjExYzBiZjU5NTE0OTQ1NTU4N2MyZDFjY2U2MWIwOGE5JTIyJTdEJTVEJTJDJTIya2V5JTIyJTNBJTIyZGZhMDEyZjFiNTJhNDRkZjk3ZDNiZTU4ZmQ2YmFiNzElMjIlN0QlNUQlMkMlMjJrZXklMjIlM0ElMjJmMGNhMjlhNjM5MjI0NTQ4OGE5NjZkODg3ZWFhOWJmOCUyMiU3RA=="></span></p><p></p>
